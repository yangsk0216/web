<!DOCTYPE html>
<!--All links to scripts and stylesheets should sit in this section-->
<head>

	<title>Leaflet Map</title>
	<SCRIPT language="JavaScript" type="text/JavaScript" src="script.js"></SCRIPT>
	<SCRIPT language="JavaScript" type="text/JavaScript" src="script2.js"></SCRIPT>
	<SCRIPT language="JavaScript" type="text/JavaScript" src="script3.js"></SCRIPT>
	<SCRIPT language="JavaScript" type="text/JavaScript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></SCRIPT> 

	<!--This is a link to the Leaflet stylesheet-->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" /> 
	<!--This is a link to the Leaflet JS library-->
	<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
	<!--This is a link to the stylesheet I have created-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/MarkerCluster.Default.css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.4.1/leaflet.markercluster.js"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>


<!--Call the function to load initialise the map object -->
<BODY onload = 'fetchData()'>
	<div class="pic" style="background-color: #000000"> <img src="1.jpg" alt="university of Leeds"  height="39"> </div>
		<h2>Block two Submissions:</h2>
		<h3>Block 2, Task 2.1: Hurricane Tweets Map:A webpage including a map displaying tweets from Hurricane Sandy.  </h3>
	<div id='myDIV' style='display: flex; flex-direction: row;'>
		<div id='myDIV2' style='flex: 1.5;background-color:#383737;'>	
			<form   id = 'insertData' onsubmit ='return validate();' method ='POST' action ='setData.php' 			enctype="multipart/form-data">
				<p class = 'input'style="background-color: #000000;color: #ffffff;font-weight: bold;">
					Please use your database log-in credentials to inject messages to database:</p>
				<p style ="color: #ffffff;">Username : <input type = 'text' class = 'boxes' name = 'user'></p>
				<p style ="color: #ffffff;">Password : <input type = 'text' class = 'boxes' name = 'password'></p>
				<br />
				<p style ="color: #ffffff;">Text Body : <input type = 'text' class = 'boxes' name = 'textBody'></p>
				<p style ="color: #ffffff;">Latitude (e.g. 10.0) : <input type = 'text' class = 'boxes' name = 'lat'></p>
				<p style ="color: #ffffff;">Longitude (e.g. 10.0) : <input type = 'text' class = 'boxes' name = 'lon'></p>
				<p style ="color: #ffffff;">Day (1-31) : <input type = 'text' class = 'boxes' name = 'day'></p>
				<p style ="color: #ffffff;">Hour (1-23) : <input type = 'text' class = 'boxes' name = 'hour'></p>
				<p style ="color: #ffffff;">Minute (1-59) : <input type = 'text' class = 'boxes' name = 'min'></p>
				<input type='submit' id ='submit' name = 'Submit' value= 'Submit Form'>
			</form>
			<br>
			<p style="background-color: #000000;color: #ffffff;font-weight: bold;">
				Enter the latitude and longitude range for viewing the number of markers
			</p>
			
			<div id='newDiv'style='background-color: #383737;';> 
				<div >
					<label for="min-lat-input" style ="color: #ffffff;">Minimum Latitude:</label>
					<input type="text" id="min-lat-input" name="min-lat-input" value="">
				  </div>
				  <br>
				  <div>
					<label for="max-lat-input" style ="color: #ffffff;">Maximum Latitude:</label>
					<input type="text" id="max-lat-input" name="max-lat-input" value="">
				  </div>
				  <br>
				  <div>
					<label for="min-lon-input" style ="color: #ffffff;">Minimum Longitude:</label>
					<input type="text" id="min-lon-input" name="min-lon-input" value="">
				  </div>
				  <br>
				  <div>
					<label for="max-lon-input" style ="color: #ffffff;">Maximum Longitude:</label>
					<input type="text" id="max-lon-input" name="max-lon-input" value="">
				  </div>
				  <br>
				  <div>
					<button onclick="plotTweets2()">Submit Form</button>
				  </div>
				  <br>
				  <div id="result" style="background-color: #ffffff;">Number of markers within the range: 
				</div>	
				<br>

				<div>
					<p style="background-color: #000000;color: #ffffff;font-weight: bold;">
						Delete based on the id entered by the user
					</p>
					
					<form id="deleteForm">
						<label for="id">ID:</label>
						<input type="text" name="id" id="id">
						<input type="submit" value="Delete">
					</form>
				
					<div id="result"></div>
				</div>
			</div>
			<br>

			
		</div>
		
		<!--The map will appear in this div-->
		<div id='map' style='flex: 4; height: 900px; width: 600px;'></div>

	</div>
	<h2>
		Function Instruction
	</h2>
	<ul>
		<li>Based on the latitude and longitude tagging maker of the tweet data in pgadmin</li>
		<li>Clustering of similar makers</li>
		<li>Users add data according to the input box on the upper left side of the page</li>
		<li>The number of makers in a given latitude and longitude range is queried by the user based on the input box on the lower left side of the page</li>
		<li>Users can switch the base map according to the top right corner of the map</li>
	  </ul>

</BODY>